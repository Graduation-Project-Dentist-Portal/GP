@page
@model DentistPortal_Client.Pages.DoctorPages.Clinics.ViewClinicModel
@{

    <!--Comments Section-->

    <div class="row d-flex justify-content-center">
        <div class="col-md-8 col-lg-6">
            <div class="card shadow-0 border" style="background-color: #f0f2f5;">
                <div class="card-body p-4">
                    <form asp-page-handler="AddComment" class="needs-validation" novalidate>
                        <div class="form-floating form-outline mb-4">
                            <input name="feedbackDto.ClinicId" id="addANote" value="@Model.Clinic.Id" hidden>
                            <input type="text" name="feedbackDto.Comment" for="addANote" class="form-control" placeholder="Type comment..." />
                            <label class="form-label" for="addANote">Type comment then press enter...</label>
                            <div class="invalid-feedback">
                                Please fill the clinic phone.
                            </div>
                        </div>
                        <button type="submit" hidden>Add</button>
                    </form>
                    @foreach (var item in Model.Feedbacks)
                    {
                        <div class="card mb-4">
                            <div class="card-body">
                                <p>@item.Comment</p>

                                <div class="d-flex justify-content-between">
                                    <div class="d-flex flex-row align-items-center">
                                        <img src="https://mdbcdn.b-cdn.net/img/Photos/Avatars/img%20(4).webp" alt="avatar" width="25"
                                         height="25" />
                                        <p class="small mb-0 ms-2">name</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
}
@if (@Model.Msg != null)
{
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    if (@Model.Status == "success")
    {
        <script type="text/javascript">
            Swal.fire({
                icon: 'success',
                title: '@Model.Msg',
                showConfirmButton: false,
                timer: 1500
            })
        </script>
    }
    else
    {
        <script type="text/javascript">
            Swal.fire({
                icon: 'error',
                title: '@Model.Msg',
                showConfirmButton: true
            })
        </script>
    }
}